"use strict";(globalThis.webpackChunkamigo_docs=globalThis.webpackChunkamigo_docs||[]).push([[2085],{7891:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"manual/solve-problem","title":"Solve a problem","description":"Once you have defined your optimization problem by creating components and building a model, you can solve it using the Optimizer class.","source":"@site/docs/manual/solve-problem.md","sourceDirName":"manual","slug":"/manual/solve-problem","permalink":"/amigo/docs/manual/solve-problem","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Set an initial guess","permalink":"/amigo/docs/manual/set-initial-guess"},"next":{"title":"Solve on GPU","permalink":"/amigo/docs/manual/solve-on-gpu"}}');var t=i(4848),l=i(8453);const s={sidebar_position:2},r="Solve a problem",a={},p=[{value:"Creating an Optimizer",id:"creating-an-optimizer",level:2},{value:"Running Optimization",id:"running-optimization",level:2},{value:"Optimizer Options",id:"optimizer-options",level:2},{value:"Accessing Results",id:"accessing-results",level:2},{value:"Complete Workflow",id:"complete-workflow",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"solve-a-problem",children:"Solve a problem"})}),"\n",(0,t.jsxs)(n.p,{children:["Once you have defined your optimization problem by creating components and building a model, you can solve it using the ",(0,t.jsx)(n.code,{children:"Optimizer"})," class."]}),"\n",(0,t.jsx)(n.h2,{id:"creating-an-optimizer",children:"Creating an Optimizer"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import amigo as am\n\n# Assume model is already built and initialized\nopt = am.Optimizer(model)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"running-optimization",children:"Running Optimization"}),"\n",(0,t.jsx)(n.p,{children:"The simplest way to solve a problem is:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"opt.optimize()\n"})}),"\n",(0,t.jsx)(n.p,{children:"This runs the optimization using default settings and updates the model with the optimal solution."}),"\n",(0,t.jsx)(n.h2,{id:"optimizer-options",children:"Optimizer Options"}),"\n",(0,t.jsx)(n.p,{children:"Configure the optimizer with custom options:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"options = {\n    'max_iter': 500,\n    'tol': 1e-8,\n    'print_level': 5,\n}\n\nopt.set_options(options)\nopt.optimize()\n"})}),"\n",(0,t.jsx)(n.p,{children:"Common options include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"max_iter"}),": Maximum number of iterations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tol"}),": Convergence tolerance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"print_level"}),": Verbosity level (0-12)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mu_strategy"}),": Barrier parameter strategy"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"accessing-results",children:"Accessing Results"}),"\n",(0,t.jsx)(n.p,{children:"After optimization, extract the solution from the model:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Get optimal values\nx_opt = model.get_input("component.x")\nf_opt = model.get_objective("component.f")\nconstraint = model.get_constraint("component.g")\n\nprint(f"Optimal x: {x_opt}")\nprint(f"Objective: {f_opt}")\nprint(f"Constraint: {constraint}")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"complete-workflow",children:"Complete Workflow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import amigo as am\n\n# 1. Create component\nclass MyComponent(am.Component):\n    def __init__(self):\n        super().__init__()\n        self.add_input("x", value=0.0, lower=-10.0, upper=10.0)\n        self.add_objective("f")\n        self.add_constraint("g", upper=0.0)\n    \n    def compute(self):\n        x = self.inputs["x"]\n        self.objective["f"] = x * x\n        self.constraints["g"] = x - 5.0\n\n# 2. Build model\nmodel = am.Model("optimization")\nmodel.add_component("comp", 1, MyComponent())\nmodel.build_module()\nmodel.initialize()\n\n# 3. Solve\nopt = am.Optimizer(model)\nopt.optimize()\n\n# 4. Extract solution\nx_opt = model.get_input("comp.x")\nf_opt = model.get_objective("comp.f")\n\nprint(f"Solution: x = {x_opt:.6f}, f(x) = {f_opt:.6f}")\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Set ",(0,t.jsx)(n.code,{children:"print_level: 5"})," to see detailed iteration output during optimization."]})}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"/amigo/docs/api/optimizer",children:"Optimizer API documentation"})," for complete details on configuration options."]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var o=i(6540);const t={},l=o.createContext(t);function s(e){const n=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);