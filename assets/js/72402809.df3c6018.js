"use strict";(globalThis.webpackChunkamigo_docs=globalThis.webpackChunkamigo_docs||[]).push([[975],{2096:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"manual/define-problem/objectives","title":"Objectives","description":"The objective function defines the quantity to be minimized during optimization. Every optimization problem in Amigo must have at least one objective.","source":"@site/docs/manual/define-problem/objectives.md","sourceDirName":"manual/define-problem","slug":"/manual/define-problem/objectives","permalink":"/amigo/docs/manual/define-problem/objectives","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Constraints","permalink":"/amigo/docs/manual/define-problem/constraints"},"next":{"title":"Models","permalink":"/amigo/docs/manual/define-problem/models"}}');var o=i(4848),s=i(8453);const l={sidebar_position:4},a="Objectives",c={},r=[{value:"Declaring an Objective",id:"declaring-an-objective",level:2},{value:"Setting the Objective Value",id:"setting-the-objective-value",level:2},{value:"Minimization vs Maximization",id:"minimization-vs-maximization",level:2},{value:"Multiple Components with Objectives",id:"multiple-components-with-objectives",level:2},{value:"Weighting Objectives",id:"weighting-objectives",level:2},{value:"Units",id:"units",level:2},{value:"Example: Time-Optimal Control",id:"example-time-optimal-control",level:2},{value:"Example: Integral Cost",id:"example-integral-cost",level:2}];function m(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"objectives",children:"Objectives"})}),"\n",(0,o.jsx)(n.p,{children:"The objective function defines the quantity to be minimized during optimization. Every optimization problem in Amigo must have at least one objective."}),"\n",(0,o.jsx)(n.h2,{id:"declaring-an-objective",children:"Declaring an Objective"}),"\n",(0,o.jsx)(n.p,{children:"Objectives are declared in the component constructor:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'self.add_objective("cost")\n'})}),"\n",(0,o.jsx)(n.p,{children:"Objectives are always scalar values. Only one objective per component is allowed."}),"\n",(0,o.jsx)(n.h2,{id:"setting-the-objective-value",children:"Setting the Objective Value"}),"\n",(0,o.jsxs)(n.p,{children:["The objective value is computed in the ",(0,o.jsx)(n.code,{children:"compute()"})," method:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'def compute(self):\n    x = self.inputs["x"]\n    \n    # Minimize the quadratic function f(x) = x\xb2\n    self.objective["cost"] = x * x\n'})}),"\n",(0,o.jsx)(n.h2,{id:"minimization-vs-maximization",children:"Minimization vs Maximization"}),"\n",(0,o.jsx)(n.p,{children:"Amigo optimizers minimize objectives by default. To maximize a function, negate it:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'def compute(self):\n    revenue = self.inputs["sales"] * self.inputs["price"]\n    cost = self.inputs["expenses"]\n    profit = revenue - cost\n    \n    # Maximize profit by minimizing -profit\n    self.objective["profit"] = -profit\n'})}),"\n",(0,o.jsx)(n.h2,{id:"multiple-components-with-objectives",children:"Multiple Components with Objectives"}),"\n",(0,o.jsx)(n.p,{children:"When multiple components define objectives, the total objective is the sum of all component objectives:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# Component 1: minimize weight\nclass StructureComponent(am.Component):\n    def compute(self):\n        self.objective["f"] = self.inputs["mass"]\n\n# Component 2: minimize drag  \nclass AeroComponent(am.Component):\n    def compute(self):\n        self.objective["f"] = self.inputs["drag"]\n\n# Total objective = weight + drag (multi-objective as weighted sum)\n'})}),"\n",(0,o.jsx)(n.p,{children:"This allows for natural multi-objective optimization through weighted sums."}),"\n",(0,o.jsx)(n.h2,{id:"weighting-objectives",children:"Weighting Objectives"}),"\n",(0,o.jsx)(n.p,{children:"Apply weights to balance multiple objectives:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'def compute(self):\n    weight = self.inputs["mass"]\n    drag = self.inputs["drag"]\n    \n    # Weighted combination\n    w1 = 0.7  # Weight for mass\n    w2 = 0.3  # Weight for drag\n    \n    self.objective["total"] = w1 * weight + w2 * drag\n'})}),"\n",(0,o.jsx)(n.h2,{id:"units",children:"Units"}),"\n",(0,o.jsx)(n.p,{children:"Specify units for documentation and clarity:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'self.add_objective("mass", units="kg")\nself.add_objective("energy", units="J")\nself.add_objective("time", units="s")\nself.add_objective("cost", units="USD")\n'})}),"\n",(0,o.jsx)(n.h2,{id:"example-time-optimal-control",children:"Example: Time-Optimal Control"}),"\n",(0,o.jsx)(n.p,{children:"Minimize final time in an optimal control problem:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'class TimeObjective(am.Component):\n    def __init__(self):\n        super().__init__()\n        \n        # Final time as an input (design variable)\n        self.add_input("T", value=10.0, lower=0.1, upper=100.0, units="s")\n        \n        # Objective: minimize final time\n        self.add_objective("time_cost", units="s")\n    \n    def compute(self):\n        T = self.inputs["T"]\n        \n        # Minimize T\n        self.objective["time_cost"] = T\n'})}),"\n",(0,o.jsx)(n.h2,{id:"example-integral-cost",children:"Example: Integral Cost"}),"\n",(0,o.jsx)(n.p,{children:"For optimal control, you may want to minimize an integral cost over time:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'class ControlCostComponent(am.Component):\n    def __init__(self):\n        super().__init__()\n        \n        self.add_input("u", label="control")\n        self.add_constant("dt", value=0.1)  # Time step\n        \n        self.add_objective("control_effort")\n    \n    def compute(self):\n        u = self.inputs["u"]\n        dt = self.constants["dt"]\n        \n        # Discrete approximation of \u222b u\xb2  dt\n        self.objective["control_effort"] = u * u * dt\n'})}),"\n",(0,o.jsx)(n.p,{children:"When this component is instantiated multiple times (one per time step), the objectives are summed automatically, approximating the continuous integral."}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"For trajectory optimization, create multiple instances of cost components to approximate integral costs."})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var t=i(6540);const o={},s=t.createContext(o);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);